---
# These tasks install Django Web application framework
- name: Install Django dependencies
  sudo: True
  apt: name={{ item }} state=present
  with_items:
   - git
   - python-pip
   - python-lxml
   #- libxml2-dev 
   #- libxslt1-dev
   #- python-imaging # May be a requirement

- name: Install Python dependencies with pip
  pip: name={{item}}
  sudo: true
  with_items:
   - Django#==1.6.2
   - django-admin-bootstrapped#==1.6.4
   - django-haystack
   - pysolr#==3.2.0
   - appy#==0.8.
#   - django-webodt
# - requests // Evt apt-get install

- name: create "Django" user acs-user
  user: name=acs-user
  sudo: True

#- name: Git clone Awesome-Competence-System into acs-user
#  action: git repo=https://github.com/altran/Awesome-Competence-System.git dest=/home/acs-user/acs
#  sudo_user: acs-user
#  sudo: True

   

#- name: Install django-webodt
#easy_install: name:django-webodt

- name: Django get static
  command: echo "yes" | python /home/acs-user/acs/cvapp/manage.py collectstatic
  sudo: True

- name: Create Django Log directory
  file: state=directory recurse=yes path=/var/log/django owner=acs-user group=acs-user
  sudo: true

